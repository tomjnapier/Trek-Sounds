class o{constructor(t){this.timer=null,this.player=document.getElementById("lcars-audio-output"),this.buttons={play:document.querySelector('[data-action="play"]'),settings:document.querySelector('[data-action="settings"]'),setCurrent:document.querySelectorAll('[data-action="set-current"]'),activeClass:"lcars-button--active"}}init(){if(!this.player)return;const{play:t,setCurrent:s}=this.buttons;this.updatePlayerStatus("paused"),t&&t.addEventListener("click",()=>{this.playerStart()}),s.forEach(e=>{e.addEventListener("click",()=>{this.updateSrc(e)})})}playerStart(){const t=this.buttons.play,s=this.buttons.activeClass,e=this.player,n=e.getAttribute("data-status")||"paused",a=e.getAttribute("src")||"";a&&(n==="paused"?(e.play(),this.updatePlayerStatus("playing"),t&&(t.classList.add(s),t.textContent="01A-Pause")):(e.pause(),this.updatePlayerStatus("paused"),t&&(t.classList.remove(s),t.textContent=a?"01-Play":"01-Awaiting Src")))}updateSrc(t){const s=this.player,e=this.buttons.activeClass,n=this.buttons.setCurrent,a=this.buttons.play,i=t.dataset.src||"";i!==null&&s.setAttribute("src",i),a.classList.remove(e),this.updatePlayerStatus("paused"),a.textContent="01-Play",t.classList.contains(e)?(t.classList.remove(e),s.setAttribute("src","")):(n.forEach(c=>c.classList.remove(e)),t.classList.toggle(e))}updatePlayerStatus(t){const s=this.player;s&&t!==void 0&&s.setAttribute("data-status",t)}}window.addEventListener("DOMContentLoaded",()=>{new o().init(),document.querySelector('[data-action="terminate"]').addEventListener("click",async()=>{await exit(0)}),document.querySelector('[data-action="settings"]').addEventListener("click",async()=>{console.log("click settings")})});
